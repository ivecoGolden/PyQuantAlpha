# PyQuantAlpha é‡‘èžæ¦‚å¿µæŒ‡å—

æœ¬æ–‡æ¡£æ—¨åœ¨é€šè¿‡é€šä¿—æ˜“æ‡‚çš„è¯­è¨€ï¼Œè¯¦ç»†è§£é‡Š PyQuantAlpha é¡¹ç›®ä¸­æ¶‰åŠçš„æ ¸å¿ƒé‡‘èžæ¦‚å¿µã€æŠ€æœ¯æŒ‡æ ‡ç®—æ³•ä»¥åŠå›žæµ‹è¯„ä¼°ä½“ç³»ã€‚

---

## ðŸ“š ç›®å½•

1. [åŸºç¡€æ•°æ®æ¦‚å¿µ](#1-åŸºç¡€æ•°æ®æ¦‚å¿µ)
2. [äº¤æ˜“æ“ä½œæŒ‡å—](#2-äº¤æ˜“æ“ä½œæŒ‡å—)
3. [æŠ€æœ¯æŒ‡æ ‡ç®—æ³•è¯¦è§£](#3-æŠ€æœ¯æŒ‡æ ‡ç®—æ³•è¯¦è§£)
4. [å›žæµ‹ç»©æ•ˆæŒ‡æ ‡](#4-å›žæµ‹ç»©æ•ˆæŒ‡æ ‡)

---

## 1. åŸºç¡€æ•°æ®æ¦‚å¿µ

### K çº¿ (Candlestick / Bar)
é‡åŒ–äº¤æ˜“ä¸­æœ€åŸºç¡€çš„æ•°æ®å•å…ƒï¼Œåæ˜ äº†ä¸€æ®µæ—¶é—´å†…çš„ä»·æ ¼å˜åŠ¨ã€‚
- **Open (O)**: å¼€ç›˜ä»·ï¼Œè¯¥æ—¶é—´æ®µå¼€å§‹æ—¶çš„ä»·æ ¼ã€‚
- **High (H)**: æœ€é«˜ä»·ï¼Œè¯¥æ—¶é—´æ®µå†…è¾¾åˆ°çš„æœ€é«˜ä»·æ ¼ã€‚
- **Low (L)**: æœ€ä½Žä»·ï¼Œè¯¥æ—¶é—´æ®µå†…è§¦åŠçš„æœ€ä½Žä»·æ ¼ã€‚
- **Close (C)**: æ”¶ç›˜ä»·ï¼Œè¯¥æ—¶é—´æ®µç»“æŸæ—¶çš„ä»·æ ¼ï¼ˆæœ€é‡è¦ï¼Œå¸¸ç”¨äºŽæŒ‡æ ‡è®¡ç®—ï¼‰ã€‚
- **Volume (V)**: æˆäº¤é‡ï¼Œè¯¥æ—¶é—´æ®µå†…çš„äº¤æ˜“æ•°é‡ã€‚

**æ—¶é—´å‘¨æœŸ (Timeframe)**:
K çº¿ä»£è¡¨çš„æ—¶é—´è·¨åº¦ï¼Œå¦‚ `1m` (1åˆ†é’Ÿ), `1h` (1å°æ—¶), `1d` (1å¤©)ã€‚

---

## 2. äº¤æ˜“æ“ä½œæŒ‡å—

### è®¢å•æ–¹å‘ (Side)
- **å¤šå¤´ (Long)**: é¢„æœŸä»·æ ¼ä¸Šæ¶¨ã€‚
    - **ä¹°å…¥ (BUY)**: èŠ±è´¹çŽ°é‡‘è´­ä¹°èµ„äº§ã€‚
    - **å¹³ä»“ (SELL)**: å–å‡ºæŒæœ‰çš„èµ„äº§ï¼ŒèŽ·åˆ©äº†ç»“æˆ–æ­¢æŸã€‚
- **ç©ºå¤´ (Short)**: é¢„æœŸä»·æ ¼ä¸‹è·Œã€‚
    - **å–å‡º (SELL)**: å€Ÿå…¥èµ„äº§å¹¶å–å‡ºï¼ˆå¼€ç©ºï¼‰ï¼ŒèŽ·å¾—çŽ°é‡‘ã€‚
    - **ä¹°å…¥ (BUY)**: èŠ±è´¹çŽ°é‡‘ä¹°å›žèµ„äº§å½’è¿˜ï¼ˆå¹³ç©º/è¡¥ä»“ï¼‰ã€‚

### è®¢å•ç±»åž‹ (Type)
- **å¸‚ä»·å• (Market Order)**: ä»¥å½“å‰å¸‚åœºæœ€ä¼˜ä»·æ ¼ç«‹å³æˆäº¤ã€‚ä¼˜ç‚¹æ˜¯æˆäº¤å¿«ï¼Œç¼ºç‚¹æ˜¯ä»·æ ¼ä¸ç¡®å®šï¼ˆå—æ»‘ç‚¹å½±å“ï¼‰ã€‚
- **é™ä»·å• (Limit Order)**: æŒ‡å®šä»·æ ¼æˆäº¤ã€‚åªæœ‰å¸‚åœºä»·æ ¼è¾¾åˆ°æˆ–ä¼˜äºŽè¯¥ä»·æ ¼æ—¶æ‰æˆäº¤ã€‚ä¼˜ç‚¹æ˜¯ä»·æ ¼ç¡®å®šï¼Œç¼ºç‚¹æ˜¯å¯èƒ½æ— æ³•æˆäº¤ã€‚

### èµ„é‡‘ç®¡ç†
- **çŽ°é‡‘ (Cash)**: è´¦æˆ·ä¸­çš„å¯ç”¨èµ„é‡‘ã€‚
- **æŒä»“ (Position)**: å½“å‰æŒæœ‰çš„èµ„äº§æ•°é‡ï¼ˆæ­£æ•°ä¸ºå¤šå¤´ï¼Œè´Ÿæ•°ä¸ºç©ºå¤´ï¼‰ã€‚
- **å‡€å€¼ (Equity)**: è´¦æˆ·æ€»ä»·å€¼ = çŽ°é‡‘ + æŒä»“å¸‚å€¼ã€‚
    - å¤šå¤´å¸‚å€¼ = æ•°é‡ Ã— å½“å‰ä»·æ ¼
    - ç©ºå¤´å¸‚å€¼ï¼ˆæµ®åŠ¨ç›ˆäºï¼‰ = |æ•°é‡| Ã— (å¼€ä»“å‡ä»· - å½“å‰ä»·æ ¼)

---

## 3. æŠ€æœ¯æŒ‡æ ‡ç®—æ³•è¯¦è§£

### 3.1 ç§»åŠ¨å¹³å‡çº¿ (Moving Average)

#### ç®€å•ç§»åŠ¨å¹³å‡çº¿ (SMA - Simple Moving Average)
æœ€åŸºç¡€çš„å‡çº¿ï¼Œè®¡ç®—è¿‡åŽ» N ä¸ªå‘¨æœŸæ”¶ç›˜ä»·çš„ç®—æœ¯å¹³å‡å€¼ã€‚

**ç®—æ³•**:
$$
SMA_t = \frac{P_t + P_{t-1} + \dots + P_{t-n+1}}{n}
$$
å…¶ä¸­ $P$ ä¸ºæ”¶ç›˜ä»·ï¼Œ$n$ ä¸ºå‘¨æœŸã€‚

**æ„ä¹‰**: å¹³æ»‘ä»·æ ¼æ³¢åŠ¨ï¼Œåæ˜ è¶‹åŠ¿æ–¹å‘ã€‚

#### æŒ‡æ•°ç§»åŠ¨å¹³å‡çº¿ (EMA - Exponential Moving Average)
å¯¹è¿‘æœŸä»·æ ¼èµ‹äºˆæ›´é«˜æƒé‡çš„å‡çº¿ï¼Œæ¯” SMA å¯¹ä»·æ ¼å˜åŒ–ååº”æ›´çµæ•ã€‚

**ç®—æ³•**:
$$
EMA_t = (P_t \times \alpha) + (EMA_{t-1} \times (1 - \alpha))
$$
$$
\alpha = \frac{2}{n + 1}
$$
å…¶ä¸­ $P_t$ ä¸ºä»Šæ—¥æ”¶ç›˜ä»·ï¼Œ$n$ ä¸ºå‘¨æœŸã€‚

---

### 3.2 éœ‡è¡æŒ‡æ ‡ (Oscillators)

#### ç›¸å¯¹å¼ºå¼±æŒ‡æ•° (RSI - Relative Strength Index)
æµ‹é‡ä»·æ ¼å˜åŠ¨çš„é€Ÿåº¦å’Œå˜åŒ–ï¼Œç”¨äºŽè¯„ä¼°è¶…ä¹°æˆ–è¶…å–çŠ¶æ€ã€‚èŒƒå›´ 0-100ã€‚

**ç®—æ³•**:
1. è®¡ç®—æ¯æ—¥å˜åŠ¨ $U$ (Up) å’Œ $D$ (Down):
   - å¦‚æžœ $Close_t > Close_{t-1}$: $U = Close_t - Close_{t-1}, D = 0$
   - å¦‚æžœ $Close_t < Close_{t-1}$: $U = 0, D = Close_{t-1} - Close_t$
2. è®¡ç®—å¹³å‡æ¶¨å¹… $AvgU$ å’Œå¹³å‡è·Œå¹… $AvgD$ (é€šå¸¸ä½¿ç”¨å¹³æ»‘ç§»åŠ¨å¹³å‡):
3. è®¡ç®—ç›¸å¯¹å¼ºå¼± $RS$:
   $$ RS = \frac{AvgU}{AvgD} $$
4. è®¡ç®— RSI:
   $$ RSI = 100 - \frac{100}{1 + RS} $$

**ç”¨æ³•**: ä¸€èˆ¬ >70 ä¸ºè¶…ä¹°ï¼ˆæš—ç¤ºå›žè°ƒï¼‰ï¼Œ<30 ä¸ºè¶…å–ï¼ˆæš—ç¤ºåå¼¹ï¼‰ã€‚

#### å¹³æ»‘å¼‚åŒç§»åŠ¨å¹³å‡çº¿ (MACD)
è¶‹åŠ¿è·Ÿè¸ªåŠ¨é‡æŒ‡æ ‡ï¼Œæ˜¾ç¤ºä¸¤æ¡ç§»åŠ¨å¹³å‡çº¿ä¹‹é—´çš„å…³ç³»ã€‚

**ç»„æˆä¸Žç®—æ³•**:
1. **DIF (å¿«çº¿)**: 12æ—¥ EMA - 26æ—¥ EMA
   $$ DIF = EMA(12) - EMA(26) $$
2. **DEA (ä¿¡å·çº¿)**: DIF çš„ 9æ—¥ EMA
   $$ DEA = EMA(DIF, 9) $$
3. **MACD æŸ± (Histogram)**:
   $$ Histogram = (DIF - DEA) \times 2 $$

**ç”¨æ³•**: é‡‘å‰ (DIF ä¸Šç©¿ DEA) åšå¤šï¼Œæ­»å‰ (DIF ä¸‹ç©¿ DEA) åšç©ºã€‚

---

### 3.3 æ³¢åŠ¨çŽ‡æŒ‡æ ‡ (Volatility)

#### å¸ƒæž—å¸¦ (Bollinger Bands)
ç”±ä¸­è½¨ã€ä¸Šè½¨ã€ä¸‹è½¨ç»„æˆçš„å¸¦çŠ¶é€šé“ã€‚

**ç®—æ³•**:
1. **ä¸­è½¨ (Middle Band)**: 20æ—¥ SMA
2. **æ ‡å‡†å·® (StdDev)**: è¿‡åŽ»20æ—¥æ”¶ç›˜ä»·çš„æ ‡å‡†å·®
3. **ä¸Šè½¨ (Upper Band)**: ä¸­è½¨ + (2 Ã— æ ‡å‡†å·®)
4. **ä¸‹è½¨ (Lower Band)**: ä¸­è½¨ - (2 Ã— æ ‡å‡†å·®)

**ç”¨æ³•**: ä»·æ ¼è§¦åŠä¸Šè½¨å¯èƒ½å›žè°ƒï¼Œè§¦åŠä¸‹è½¨å¯èƒ½åå¼¹ï¼›å¸¦å®½æ”¶çª„é¢„ç¤ºå˜ç›˜ã€‚

#### å¹³å‡çœŸå®žæ³¢å¹… (ATR - Average True Range)
è¡¡é‡å¸‚åœºæ³¢åŠ¨æ€§çš„æŒ‡æ ‡ï¼ˆä¸æŒ‡ç¤ºæ–¹å‘ï¼‰ã€‚

**ç®—æ³•**:
1. è®¡ç®—çœŸå®žæ³¢å¹… (TR): Today's TR = Max of:
   - |ä»Šæ—¥æœ€é«˜ - ä»Šæ—¥æœ€ä½Ž|
   - |ä»Šæ—¥æœ€é«˜ - æ˜¨æ—¥æ”¶ç›˜|
   - |ä»Šæ—¥æœ€ä½Ž - æ˜¨æ—¥æ”¶ç›˜|
2. ATR = TR çš„ N æ—¥ç§»åŠ¨å¹³å‡ (é€šå¸¸14æ—¥)

**ç”¨æ³•**: å¸¸ç”¨äºŽè®¾ç½®æ­¢æŸä½ (å¦‚ 2å€ ATR æ­¢æŸ)ã€‚

---

## 4. å›žæµ‹ç»©æ•ˆæŒ‡æ ‡

### æ€»æ”¶ç›ŠçŽ‡ (Total Return)
ç­–ç•¥ç»“æŸæ—¶çš„æ€»ç›ˆäºæ¯”ä¾‹ã€‚
**å…¬å¼**:
$$
Total Return = \frac{æœ€ç»ˆå‡€å€¼ - åˆå§‹æœ¬é‡‘}{åˆå§‹æœ¬é‡‘} \times 100\%
$$

### å¹´åŒ–æ”¶ç›ŠçŽ‡ (Annualized Return / CAGR)
å°†æ€»æ”¶ç›ŠçŽ‡æ ‡å‡†åŒ–ä¸ºä¸€å¹´çš„æ”¶ç›ŠçŽ‡ï¼Œä¾¿äºŽè·¨å‘¨æœŸæ¯”è¾ƒã€‚
**å…¬å¼**:
$$
Annualized = (1 + TotalReturn)^{\frac{365}{å¤©æ•°}} - 1
$$

### æœ€å¤§å›žæ’¤ (Max Drawdown)
èµ„é‡‘æ›²çº¿ä»Žä»»ä¸€é«˜ç‚¹åˆ°å…¶åŽæœ€ä½Žç‚¹çš„æœ€å¤§è·Œå¹…ï¼Œè¡¡é‡æœ€åæƒ…å†µä¸‹çš„é£Žé™©ã€‚
**å…¬å¼**:
$$
MDD = \max \left( \frac{Peak - Trough}{Peak} \right)
$$

### å¤æ™®æ¯”çŽ‡ (Sharpe Ratio)
è¡¡é‡æ¯æ‰¿æ‹…ä¸€å•ä½é£Žé™©æ‰€èŽ·å¾—çš„è¶…é¢å›žæŠ¥ã€‚è¶Šé«˜è¶Šå¥½ã€‚
**å…¬å¼**:
$$
Sharpe = \frac{E(R_p) - R_f}{\sigma_p}
$$
- $E(R_p)$: ç­–ç•¥å¹´åŒ–æ”¶ç›ŠçŽ‡
- $R_f$: æ— é£Žé™©åˆ©çŽ‡ (å¦‚ 2%)
- $\sigma_p$: æ”¶ç›ŠçŽ‡çš„å¹´åŒ–æ ‡å‡†å·® (æ³¢åŠ¨çŽ‡)

### èƒœçŽ‡ (Win Rate)
ç›ˆåˆ©äº¤æ˜“æ¬¡æ•°å æ€»äº¤æ˜“æ¬¡æ•°çš„æ¯”ä¾‹ã€‚
**å…¬å¼**:
$$
Win Rate = \frac{ç›ˆåˆ©äº¤æ˜“æ•°}{æ€»äº¤æ˜“æ•°} \times 100\%
$$

### ç›ˆäºæ¯” (Profit Factor)
æ€»ç›ˆåˆ©é‡‘é¢ä¸Žæ€»äºæŸé‡‘é¢çš„æ¯”å€¼ã€‚
**å…¬å¼**:
$$
Profit Factor = \frac{\sum ç›ˆåˆ©é‡‘é¢}{|\sum äºæŸé‡‘é¢|}
$$
é€šå¸¸ > 1.5 ä¸ºä¼˜ç§€ï¼Œ> 1.0 ä¸ºç›ˆåˆ©ã€‚
